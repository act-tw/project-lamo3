<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
<body style="height: 2000px;">





	<style>
	.waterfall {
		max-width: 1232px;
		min-width: 924px;
		background-color: pink;
		overflow: hidden;
		position: relative;
	}

	.waterfall>div {
		width: 280px;
		border: 1px solid #a0a0a0;
		border-radius: 6px;
		float:left;
		margin-right:18px;
		margin-bottom:20px;
		background-color: white;
		padding:4px;
	}
	</style>





	<script>
		$(function() {
			var $waterfall = $(".waterfall");
			var $items = $waterfall.find(">div");
			function getMinIndex(ary) {
				return ary.indexOf(Math.min.apply(null,ary));
			}
			$(window).resize(function() {
				var itemWidth = $items.eq(0).outerWidth(true);
				var rowCount = parseInt($waterfall.width()/itemWidth, 10);
				var rowHeight=[];
				for (var i=0;i<rowCount;i++) {
					rowHeight.push($items.eq(i).outerHeight(true));
					$items.eq(i).removeAttr("style");
				}
				for (var i=rowCount;i<$items.length;i++) {
					var minIndex = getMinIndex(rowHeight);
					$items.eq(i).css({"position":"absolute","left":minIndex*itemWidth,"top":rowHeight[minIndex]});
					rowHeight[minIndex]+=$items.eq(i).outerHeight(true);
				}
				$waterfall.height(Math.max.apply(null,rowHeight));
			}).resize();
			$(window).load(function() {
				$(window).resize();
			});
		});
	</script>





	<div class="waterfall">
		<div>
			<img src="http://img1.fzpp.com/img/201403/30/12-11-46-73-1.jpg">
		</div>
		<div>
			<img src="http://img03.taobaocdn.com/bao/uploaded/i3/16869023183050967/T1olqCXBXXXXXXXXXX_!!0-item_pic.jpg">
		</div>
		<div>
			<img src="https://s.yimg.com/aw/api/res/1.2/PHOEEnp98PnT51YuPPBnhg--/YXBwaWQ9eXR3YXVjdGlvbnNlcnZpY2U7aD00MDA7cT04NTtzcj0xLjI7c3M9MS4yO3c9Mjgw/http://nevec-img.zenfs.com/prod/tw_ec05-7/821a3d4d-798b-494e-abea-be1a6b34eea7.jpg">
		</div>
		<div>
			<img src="http://61.67.232.229/ArDocCDN/AR00/AR009758/Content/AR009758-EP1600/11172-b.jpg">
		</div>
		<div>
			<img src="http://img1.nz86.com/upload/picture/customer/77/11/3/37395144784474495.jpg">
		</div>
		<div>
			<img src="http://www.qng.com.tw/data/item/1414478828_m">
		</div>
		<div>
			<img src="http://mypaper.pchome.com.tw/show/article/026955/A1327140640">
		</div>
		<div>
			<img src="http://2.bp.blogspot.com/-4q4T6n6Nrks/U5IIrURC-jI/AAAAAAAAJk0/FpFXgR_H6dA/s280-c/2014-06-07_023001.png">
		</div>
		<div>
			<img src="http://img1.fzpp.com/img/201403/30/12-11-46-73-1.jpg">
		</div>
		<div>
			<img src="http://img03.taobaocdn.com/bao/uploaded/i3/16869023183050967/T1olqCXBXXXXXXXXXX_!!0-item_pic.jpg">
		</div>
		<div>
			<img src="https://s.yimg.com/aw/api/res/1.2/PHOEEnp98PnT51YuPPBnhg--/YXBwaWQ9eXR3YXVjdGlvbnNlcnZpY2U7aD00MDA7cT04NTtzcj0xLjI7c3M9MS4yO3c9Mjgw/http://nevec-img.zenfs.com/prod/tw_ec05-7/821a3d4d-798b-494e-abea-be1a6b34eea7.jpg">
		</div>
		<div>
			<img src="http://61.67.232.229/ArDocCDN/AR00/AR009758/Content/AR009758-EP1600/11172-b.jpg">
		</div>
		<div>
			<img src="http://img1.nz86.com/upload/picture/customer/77/11/3/37395144784474495.jpg">
		</div>
		<div>
			<img src="http://www.qng.com.tw/data/item/1414478828_m">
		</div>
		<div>
			<img src="http://mypaper.pchome.com.tw/show/article/026955/A1327140640">
		</div>
		<div>
			<img src="http://2.bp.blogspot.com/-4q4T6n6Nrks/U5IIrURC-jI/AAAAAAAAJk0/FpFXgR_H6dA/s280-c/2014-06-07_023001.png">
		</div>			
						
	</div>





</body>
</html>