<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
<body style="height: 2000px;">




	<style>
	.waterfall {
		max-width: 1232px;
		min-width: 924px;
		overflow: hidden;
		position: relative;
	}

	.waterfall>div {
		width: 280px;
		border: 1px solid #a0a0a0;
		border-radius: 6px;
		float:left;
		margin-right:18px;
		margin-bottom:20px;
		background-color: white;
		padding:4px;
	}

	.waterfall>div>a>img {
		display: block;
	}

	.navibar {
		margin-bottom: 16px;
		font-size:12px;
		font-family: arial;
	}

	.navibar>.home {
		background-image: url(http://photo.lamo3.com.tw/eshop/common/crumbs-home.png);
		width: 17px;
		height: 13px;
		display: inline-block;
		cursor: pointer;
	}

	.navibar>.flag {
		background-image: url(http://photo.lamo3.com.tw/eshop/common/crumbs-caret-right.png);
		width:7px;
		height: 10px;
		display: inline-block;
	}

	.sortbar {
		padding-bottom: 18px;
		font-size:12px;
		font-family: arial;
	}

	.sortbar>.flag {
		background-image: url(http://photo.lamo3.com.tw/eshop/product-list/sidebar-buttons-open.png);
		width: 85px;
		height: 20px;
		display: block;
		background-repeat: no-repeat;
		background-position: 78px 3px;
		cursor: pointer;
		font-size: 14px;
		font-family: arial;
		border-bottom: 1px solid #999999;
		padding: 0 5px;
	}

	.sortbar>.sortbox {
		position: absolute;
		z-index: 1;
		width:290px;
		background-image: url(static/images/demo/temp.png);
		background-color:#efeeec;
	}

	.sortbar>.sortbox>div {
		display: inline-block;
		margin:0 auto;
	}

	.sortbar>.sortbox>div>.group {
		padding-top:45px;
		font-size:13px;
		font-family: arial,微軟正黑體;

	}

	.sortbar>.sortbox>div>.group>div {
		padding:6px 22px;
	}

	.sortbar>.sortbox>div>.group.price>.selected {
		background-image: url(http://photo.lamo3.com.tw/eshop/product-list/sort-by-price-selected.png);

	}
	</style>





	<script>
		$(function() {
			var $waterfall = $(".waterfall");
			var $items = $waterfall.find(">div");
			function getMinIndex(ary) {
				return ary.indexOf(Math.min.apply(null,ary));
			}
			$(window).resize(function() {
				var itemWidth = $items.eq(0).outerWidth(true);
				var rowCount = parseInt($waterfall.width()/itemWidth, 10);
				var rowHeight=[];
				for (var i=0;i<rowCount;i++) {
					rowHeight.push($items.eq(i).outerHeight(true));
					$items.eq(i).removeAttr("style");
				}
				for (var i=rowCount;i<$items.length;i++) {
					var minIndex = getMinIndex(rowHeight);
					$items.eq(i).css({"position":"absolute","left":minIndex*itemWidth,"top":rowHeight[minIndex]});
					rowHeight[minIndex]+=$items.eq(i).outerHeight(true);
				}
				$waterfall.height(Math.max.apply(null,rowHeight));
			}).resize();
			$(window).load(function() {
				$(window).resize();
			});
		});
	</script>



	

	<div class="navibar">
		<span class="home">&nbsp;</span>
		測試位置
		<span class="flag">&nbsp;</span>
		測試位置
		<span class="flag">&nbsp;</span>
		測試位置
	</div>

	<div class="sortbar">
		<div class="flag">sort by</div>
		<div class="sortbox">
			<div>
				<div class="group price">
					<div>價格</div>
					<div class="selected">價格由高至低</div>
					<div>價格由低至高</div>
				</div>
				<div class="group">
					<div>價格</div>
					<div>價格由高至低</div>
					<div>價格由低至高</div>
				</div>
			</div>
		</div>

	</div>

	<div class="waterfall">
		<div>
			<a href="#link">
				<img src="http://img1.fzpp.com/img/201403/30/12-11-46-73-1.jpg">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="http://img03.taobaocdn.com/bao/uploaded/i3/16869023183050967/T1olqCXBXXXXXXXXXX_!!0-item_pic.jpg">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="https://s.yimg.com/aw/api/res/1.2/PHOEEnp98PnT51YuPPBnhg--/YXBwaWQ9eXR3YXVjdGlvbnNlcnZpY2U7aD00MDA7cT04NTtzcj0xLjI7c3M9MS4yO3c9Mjgw/http://nevec-img.zenfs.com/prod/tw_ec05-7/821a3d4d-798b-494e-abea-be1a6b34eea7.jpg">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="http://61.67.232.229/ArDocCDN/AR00/AR009758/Content/AR009758-EP1600/11172-b.jpg">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="http://img1.nz86.com/upload/picture/customer/77/11/3/37395144784474495.jpg">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="http://www.qng.com.tw/data/item/1414478828_m">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="http://mypaper.pchome.com.tw/show/article/026955/A1327140640">
			</a>
		</div>
		<div>
			<a href="#link">
				<img src="http://2.bp.blogspot.com/-4q4T6n6Nrks/U5IIrURC-jI/AAAAAAAAJk0/FpFXgR_H6dA/s280-c/2014-06-07_023001.png">
			</a>
		</div>
	
	</div>





</body>
</html>